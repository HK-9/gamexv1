
<!-- Shoping Cart -->
  <form class="bg0 p-t-75 mt-5">
		<div class="container">
			<div class="row">
				<div class="col-lg-10 col-xl-7 m-lr-auto m-b-50">
					<div class="m-l-25 m-r--38 m-lr-0-xl">
						<div class="wrap-table-shopping-cart">
							<table class="table-shopping-cart">
								<tr class="table_head">
									<th class="pl-4"><span class="fs-5">CHECKOUT</span></th>
								</tr>
					{{!-- ----------------------------PORT----------------------------------------}}
							

							</table>
						</div>

						<div class="flex-w flex-sb-m bor15 p-t-18 p-b-20 p-lr-40 p-lr-15-sm">

								{{!--===================== ADDRESS CARD================== --}}
							{{#if address}}
							<div class="card mb-3 mb-md-4 w-100">
								<div class="card-header d-flex align-items-center">
									<h5 class="mtext-109 cl2 fs-6" id="test">SHIPPING ADDRESS</h5> <span class=" ml-3 badge badge-pill">Active</span>

									<div class="position-relative ml-auto">
										<button type="button" class="btn btn-icon btn-secondary btn-sm rounded-circle" href="#" data-toggle="modal" data-target="#exampleModal">
											<i class="bi bi-plus-lg btn-icon-inner"></i>
										</button>
									</div>

									<div class="position-relative ml-3 ml-md-4">
										<a  id="dropDown3Invoker" class="unfold-invoker d-flex disabled-link" href="#" aria-controls="dropDown3" aria-haspopup="true" aria-expanded="false" data-unfold-target="#dropDown3" data-unfold-event="click" data-unfold-type="css-animation" data-unfold-duration="300" data-unfold-animation-in="fadeIn" data-unfold-animation-out="fadeOut">
											<i class="gd-more-alt"></i>
										</a> 
									</div>
								</div>
								<div class="card-body pt-0">
									<div class="flex-w flex-m m-r-150 m-tb-5">
									
  					
								<div class="addressStrip-base-title">
								<button type="radio"></button> 	
								<div class="addressStrip-base-addressName stext-111 cl2 p-t-2">
									Deliver to: <span class="ml-1 addressStrip-base-highlight stext-111 cl6 p-t-2" id="activeFname">
									{{activeAddressData.fname}}
									</span>,
									<div class="addressStrip-base-highlight stext-111 cl6 p-t-2">
										<i class="bii bi-mailbox mr-1"></i><span id="activePin">{{activeAddressData.zip}}</span>,
										</div>
										</div>
										<div class="addressStrip-base-subText stext-111 cl6 p-t-2">
										<i class="bi bi-envelope mr-1"></i><span id="activeEmail">{{activeAddressData.email}}</span>,<br>
										<i class="bi bi-phone mr-1"></i><span id="activePhone">{{activeAddressData.phone}}</span>,<br>
										<i class="bi bi-pin-map mr-1"></i> <span id="activeAddress">{{activeAddressData.address}}</span>	
										</div>
										</div>
								<div class="flex-c-m ">
								</div>
								</div> 
							 <div class="mt-3 mb-3 mr-3 position-absolute bottom-0 end-0 ">	
                                <button type="button" class="btn btn-light rounded-pill" data-toggle="modal" data-target="#changeAddress">Change Address</button>
							 </div>
							</div>
                        </div>
						{{else}}

						<div class="card mb-3 mb-md-4 w-100">
								<div class="card-header d-flex align-items-center">
									<h5 class="mtext-109 cl2 fs-6" id="test">SHIPPING ADDRESS</h5> 

									<div class="position-relative ml-auto">
										<button type="button" class="btn btn-icon btn-secondary btn-sm rounded-circle" href="#" data-toggle="modal" data-target="#exampleModal">
											<i class="bi bi-plus-lg btn-icon-inner"></i>
										</button>
									</div>

									<div class="position-relative ml-3 ml-md-4">
										<a id="dropDown3Invoker" class="unfold-invoker d-flex" href="#" aria-controls="dropDown3" aria-haspopup="true" aria-expanded="false" data-unfold-target="#dropDown3" data-unfold-event="click" data-unfold-type="css-animation" data-unfold-duration="300" data-unfold-animation-in="fadeIn" data-unfold-animation-out="fadeOut">
											<i class="gd-more-alt"></i>
										</a> 
									</div>
								</div>
								<div class="card-body pt-0">
										
							 
								<center><span class=" mt-3 badge badge-pill">Please add an address to proceed</span></center>
							</div>
                        </div>

						
						{{/if}}		
{{!-- //=============================================================================================================================================================== --}}
							
						</div>


							<div class=" bor15">
							<div id="borderedAccordion">
								<div class="accordion accordion-bordered-y accordion-stacked cl2">
								<header id="borderedAccordion-heading-1" class="accordion-header" aria-expanded="true" aria-controls="borderedAccordion-1"
										data-toggle="collapse"
										data-target="#borderedAccordion-1">
									<i class="bi bi-credit-card accordion-icon icon-text mr-3"></i>
									<h5 class="mb-0">Payment Methods </h5>
									<i class="accordion-control gd-angle-down icon-text ml-auto"></i>
								</header>

								<div id="borderedAccordion-1" class="collapse show" aria-labelledby="borderedAccordion-heading-1"
									data-parent="#borderedAccordion">
									<div class="accordion-body pt-0">
									<div class="table-responsive-xl pt-0 ml-5">
										<div class="form-check mt-2">
											<input class="form-check-input" type="radio" name="payment" id="exampleRadios1" value="cod" checked>
											<label class="form-check-label pl-0" for="exampleRadios1">
											<span class="border border cl7"><i class="bi bi-cash-stack cl2 mr-2 ml-2 mt-1"></i></span> <span class="stext-111 cl2 md-1 ml-1">Cash on delivery</span>
											</label>
										</div>
										<div class="form-check mt-2">
											<input class="form-check-input" type="radio" name="payment" id="exampleRadios2" value="creditCard">
											
											<label class="form-check-label p-0"for="exampleRadios2">
											<span class="border border c17"><i class="bi bi-credit-card cl2 ml-2 mr-2"></i></span> <span class="stext-111 cl2 mt-1 ml-1"> Credit Card</span>
											</label>
										</div>
										<div class="form-check mt-1">
											<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
											<div> <span class="border cl7"><i class="bi bi-google cl7 ml-2 mr-2"></i></span> <span class="stext-111 cl7 mt-1 ml-1">Google Wallet</span></div>
											{{!-- <label class="form-check-label" for="exampleRadios3">
											Disabled radio
											</label> --}}
										</div>
									</div>
									</div>
								</div>
								</div>
							</div>
						</div>
											{{!-- ---------------------------- C O U P O N ----------------------------------------}}

				<div class="flex-w flex-sb-m bor15 p-t-18 p-b-15 p-lr-40 p-lr-15-sm pl-3 p-0">
							{{#if couponUsed}}
							<div class="flex-w flex-m m-r-20 m-tb-5">
								<input class="stext-104 cl2 plh4 size-117 bor13 p-lr-20 m-r-10 m-tb-5" type="text" name="coupon" placeholder="Coupon Used" style="cursor:no-drop">	
								<div class="flex-c-m stext-101 cl2 size-118 bg2 bor13  p-lr-15  m-tb-5" style="cursor:no-drop">
									Apply coupon 
								</div> 
								<div>
								<i class="bi bi-tags-fill ml-4 mr-2 cl2"></i>	<span class="stext-111 cl6 p-t-2">Coupon used or expired</span>								
								</div>
							</div>
						</div>
							{{else}}
							<div class="flex-w flex-m m-r-20 m-tb-5">
								<input class="stext-104 cl2 plh4 size-117 bor13 p-lr-20 m-r-10 m-tb-5" type="text" name="coupon" placeholder="Coupon Code" disabled>	
								<div class="flex-c-m stext-101 cl2 size-118 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-5">
									Apply coupon 
								</div> 
								<div>
								<i class="bi bi-tags-fill ml-4 mr-2 cl2"></i><a class="trans-04 hov-btn2 cl2 stext-107 btn bor13" href="#" data-toggle="modal" data-target="#couponModal" >View coupons</a>

								</div>
							</div>
						</div>
						{{/if}}
						<a href="/">
							<div  class="flex-c-m stext-101 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-10">
									Continue shopping
								</div>
						</a>
            
					</div>
				</div>
		{{!-- // =================================================================================== --}}
				{{#if couponDiscountedTotal}}
				<div class="col-sm-10 col-lg-7 col-xl-5 m-lr-auto m-b-50">
					<div class="bor10 p-lr-40 p-t-30 p-b-40 m-l-63 m-r-40 m-lr-0-xl p-lr-15-sm">
						<h4 class="mtext-109 cl2 p-b-30">
							Cart Totals
						</h4>

						<div class="flex-w flex-t bor12 p-b-13">
							<div class="size-208">
								 <span class="stext-110 cl2">
									Subtotal:
								</span>
							</div>
							<s style="color:red;">
							<div class="size-209">
								<span class="mtext-110 cl2">₹</span><span id="grandTotal" class="mtext-110 cl2"></span>
							</div>
							</s>
						</div>
						<div class="flex-w flex-t bor12 p-b-13">
							 <small id="emailHelp" class="form-text text-muted"><span style="color:rgb(192, 166, 0) ;" >%{{couponOffer}} Discount applied.</span></small>
						</div>
						
						<div class="flex-w flex-t bor12 p-b-13">
							<div class="size-208 cl2">
								 <span class="stext-110 ">
									Coupon Discount: 
								</span>
							</div>
							<div class="size-209 ">
								<span class="mtext-110"> </span><span class="mtext-110 "></span><br>
								<b><span class="mtext-110">- ₹ </span><span class="mtext-110 ">{{couponDiscountedTotal}}</span><b>
							</div>
						</div>


						<div class="flex-w flex-t bor12 p-t-15 p-b-30">
							<div class="header-cart-content flex-w js-pscroll">
				<ul class="header-cart-wrapitem w-full">
					<li class="header-cart-item flex-w flex-t m-b-12">
						{{#each cartData.products}}
						<div class="header-cart-item-img mb-1">
							<img src="/multerimages/{{this.product.image.[2]}}" alt="IM1G">
						</div>

						<div class="header-cart-item-txt p-t-8">
							<a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04">
								{{this.product.title}}
							</a>

							<span class="header-cart-item-info">
								<span>{{this.quantity}}</span> x ₹ <span>{{this.total}}</span>
							</span>
						</div>
						{{/each}}
					</li>
				</ul>

			</div>
							<div class="size-209 p-r-18 p-r-0-sm w-full-ssm">
								
								
								<div class="p-t-15">
									<div class="flex-w">
										<div class="flex-c-m stext-101 cl2 size-115 bg8 bor13 hov-btn2 p-lr-15 trans-01 pointer">
											Go Back To Cart
										</div>
									</div>
										
								</div>
							</div>
						</div>


						{{!-- <button class="flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04" onclick="confirmOrder()">
							Confirm Order
						</button> --}}
							<div class="flex-c-m stext-101 cl2 size-118 bg8 bor13 hov-btn3 p-lr-15 trans-03 m-tb-5 mt-5 pointer" onclick="confirmOrder()">
									Confirm Order
								</div> 
								<small class="d-flex justify-content-center">Choose your payment method before continue !</small>
					</div>
				</div>
				{{else}}
				<div class="col-sm-10 col-lg-7 col-xl-5 m-lr-auto m-b-50">
					<div class="bor10 p-lr-40 p-t-30 p-b-40 m-l-63 m-r-40 m-lr-0-xl p-lr-15-sm">
						<h4 class="mtext-109 cl2 p-b-30">
							Cart Totals
						</h4>
{{!-- 
						<div class="flex-w flex-t bor12 p-b-13">
							<div class="size-208">
								<span class="stext-110 cl2">
									Subtotal:
								</span>
							</div>

							<div class="size-209">
								
									
									
								</span>
							</div>
						</div> --}}

						<div class="flex-w flex-t bor12 p-t-15 p-b-30">
							<div class="header-cart-content flex-w js-pscroll">
				<ul class="header-cart-wrapitem w-full">
					<li class="header-cart-item flex-w flex-t m-b-12">
						{{#each cartData.products}}
						<div class="header-cart-item-img mb-1">
							<img src="/multerimages/{{this.product.image.[2]}}" alt="IM1G">
						</div>

						<div class="header-cart-item-txt p-t-8">
							<a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04">
								{{this.product.title}}
							</a>

							<span class="header-cart-item-info">
								<span>{{this.quantity}}</span> x ₹ <span>{{this.total}}</span>
							</span>
						</div>
						{{/each}}
					</li>
				</ul>

			</div>
							<div class="size-209 p-r-18 p-r-0-sm w-full-ssm">
								
								
								<div class="p-t-15">
									<div class="flex-w">
										<div class="flex-c-m stext-101 cl2 size-115 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer">
											Go Back To Cart
										</div>
									</div>
										
								</div>
							</div>
						</div>

						<div class="flex-w flex-t p-t-27 p-b-33">
							<div class="size-208">
								<span class="mtext-101 cl2">
									Total:  
								</span>
							</div>

							<div class="size-209 p-t-1">
								<span class="mtext-110 cl2">₹ {{#each cartdata}}{{this.subTotal}}{{/each}}</span><span id="grandTotal" class="mtext-110 cl2">
								<span id="grandTotal" class="mtext-110 cl2">

								</span>
							</div>
						</div>

						<button class="flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer" onclick=confirmOrder()>
							Confirm Order
						</button>
					</div>
				</div>
				{{/if}}

			</div>
		</div>
	</form>	
	<!-- Footer -->
	<footer class="bg3 p-t-75 p-b-32">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">
						Categories
					</h4>

					<ul>
						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
								Women
							</a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
								Men
							</a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
								Shoes
							</a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
								Watches
							</a>
						</li>
					</ul>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">
						Help
					</h4>

					<ul>
						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
								Track Order
							</a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
								Returns 
							</a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
								Shipping
							</a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
								FAQs
							</a>
						</li>
					</ul>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">
						GET IN TOUCH
					</h4>

					<p class="stext-107 cl7 size-201">
						Any questions? Let us know in store at 8th floor, 379 Hudson St, New York, NY 10018 or call us on (+1) 96 716 6879
					</p>

					<div class="p-t-27">
						<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-facebook"></i>
						</a>

						<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-instagram"></i>
						</a>

						<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-pinterest-p"></i>
						</a>
					</div>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-50">
					<h4 class="stext-301 cl0 p-b-30">
						Newsletter
					</h4>

					<form>
						<div class="wrap-input1 w-full p-b-4">
							<input class="input1 bg-none plh1 stext-107 cl7" type="text" name="email" placeholder="email@example.com">
							<div class="focus-input1 trans-04"></div>
						</div>

						<div class="p-t-18">
							<button class="flex-c-m stext-101 cl0 size-103 bg1 bor1 hov-btn2 p-lr-15 trans-04">
								Subscribe
							</button>
						</div>
					</form>
				</div>
			</div>

			<div class="p-t-40">
				<div class="flex-c-m flex-w p-b-18">
					<a href="#" class="m-all-1">
						<img src="images/icons/icon-pay-01.png" alt="ICON-PAY">
					</a>

					<a href="#" class="m-all-1">
						<img src="images/icons/icon-pay-02.png" alt="ICON-PAY">
					</a>

					<a href="#" class="m-all-1">
						<img src="images/icons/icon-pay-03.png" alt="ICON-PAY">
					</a>

					<a href="#" class="m-all-1">
						<img src="images/icons/icon-pay-04.png" alt="ICON-PAY">
					</a>

					<a href="#" class="m-all-1">
						<img src="images/icons/icon-pay-05.png" alt="ICON-PAY">
					</a>
				</div>

				<p class="stext-107 cl6 txt-center">
					<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | Made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a> &amp; distributed by <a href="https://themewagon.com" target="_blank">ThemeWagon</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->

				</p>
			</div>
		</div>
	</footer>

	<!--=========================================== A D D   A D D R E S S  M O D A L =================================================-->

<div id="exampleModal" class="modal fade" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true;,">
  <div class="modal-content modal-dialog"  role="document">
    <header class="modal-header flex-column justify-content-center border-0 mb-3 mb-xl-5 cl2">
      <h4 id="exampleModalLabel" class="modal-title mx-auto cl2">Add New Address</h4>
    </header>

    <div class="modal-body pt-3 mb-5 mb-md-7 text-center cl2">
      <form id="form">
										<div class="form-row cl2">
											<div class="form-group mr-2">
											<label for="inputAddress2 ">First Name</label>
											<input id="fname" type="text" name="fname" class="form-control" id="firstName" >
											</div>
											<div class="form-group">	
											<label for="inputAddress2">Last Name</label>
											<input type="text" name="lname" class="form-control" id="lastName">
											</div>
										</div>
										<div class="form-group col-md-5">
											<label for="inputEmail4">Email</label>
											<input type="email" name="email" class="form-control" id="email" >
										</div>
										<div class="form-group col-md-6 p-0">
											<label for="inputEmail4">Phone number</label>
											<input type="number" name="phone" class="form-control" id="phoneNumber"
											value="{{this.phoneNumber}}">
										</div>
										<div class="form-group">
											<label for="inputAddress2">Address</label>
											<input type="text" name="address" class="form-control" id="address" >
										</div>
										<div class="form-row">
											<div class="form-group col-md-6">
											<label for="inputCity">City</label>
											<input type="text" name="city" class="form-control" id="city" >
											</div>
											<div class="form-group col-md-4">
											<label for="inputState">State</label> 
											{{!-- <select id="inputState" class="form-control">
												<option selected>Choose...</option>
												<option value="Kerala">kerala</option>
											</select> --}}
											<input type="text" name="state" class="form-control" id="state" >
											</div>
											<div class="form-group col-md-2">
											<label for="inputZip">Zip</label>
											<input type="text" name="zip" class="form-control" id="pincode">
											</div>
											<div class="form-group col-md-6">
											<label for="inputCity">Landmark</label>
											<input type="text" name="landmark" class="form-control" id="landmark">
											</div>
											 <button id="submitbtn" type="submit" onclick="uploadAddress()" class="btn btn-primary rounded-pill ml-auto mr-3 mt-5">Submit</button>
										</div>
										{{!-- <div class="form-group">
											<div class="form-check">
											<input class="form-check-input" type="checkbox" id="gridCheck">
											<label class="form-check-label" for="gridCheck">
												Check me out
											</label>
											</div>
										</div> --}}

										</form>
    </div>
  </div>
</div>
</div>



	<!--=========================================== C H A N G E  A D D R E S S  M O D A L =================================================-->
<div class="container" >
	<div id="changeAddress" class="modal fade" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true";  >

	<div class="modal-content modal-dialog"  role="document">
		<header class="modal-header flex-column justify-content-center border-0 mb-xl-5 cl2 mt-1">
		<h4 id="exampleModalLabel" class="modal-title mx-auto cl2">
			<span class="mtext-109 cl2 p-b-30 mt-5">CHOOSE DELIVERY ADDRESS</span></h4>
		</header>
		<div class="d-flex justify-content-center p-0">
			<button class=" mr-1 btn btn-primary flex-c-m stext-101 cl2 size-115 bg8 hov-btn3 p-lr-15 trans-04" id="btn">Save Changes</button>
		<a class=" ml-1 btn btn-danger flex-c-m stext-101 cl2 size-115 bg8  hov-btn3 p-lr-15 trans-04  mr-1 " href="/manage-address" role="button">Manage address</a>
		</div>

		<div class="modal-body p-0 m-0 cl2">
			{{!-- /// --}}
	{{#each address}} 
		<div class="card mb-2 mb-md-12 mt-4">
						<div class="card-header d-flex align-items-center">
							<h5 class="mtext-109 cl2 fs-6" id="test">{{this.fname}} {{this.lname}}</h5>
							{{!-- Radio button --}}
							<span class=" ml-3 mt-1"><div class="form-check">
	<input type="radio" class="form-check-input" id="radio1" name="size" value="{{this._id}}" checked>
	<label class="form-check-label" for="radio1"></label>
	</div></span>
							<div class="position-relative ml-auto">
								<button type="button" class="btn btn-icon btn-sm" href="#" dthista-toggle="modal" data-target="#exampleModal">
									
								</button>
							</div>

							<div class="position-relative ml-3 ml-md-4">
								{{!-- <button class="btn btn-primary" onclick="editAddress('{{this._id}}')" ></button> --}}
								
								</button><a onclick="editAddress('{{this._id}}')" class="btn btn-icon btn-sm" href="#" role="button" data-toggle="modal" data-target="#editModal"><i class="bi bi-pencil-square text-secondary"></i></a>
							</div>
						</div>
						<div class="card-body pt-0">
							<div class="flex-w flex-m m-r-150 m-tb-5">
							
						
						<div class="addressStrip-base-title">
							<button type="radio"></button> 
						
							<div class="addressStrip-base-addressName stext-111 cl2 p-t-2">
								Deliver to: <span class="ml-1 addressStrip-base-highlight stext-111 cl6 p-t-2">
								{{this.fname}} {{this.lname}} {{this.email}}
								{{this.phone}} {{this.city}} {{this.landmark}}
								</span>
								<div class="addressStrip-base-highlight stext-111 cl6 p-t-2">
									{{this.Zip}}
								</div>
							</div>
							<div class="addressStrip-base-subText stext-111 cl6 p-t-2">
									{{this.address}}
							</div>
						</div>
						<div class="flex-c-m ">
									</div>
									</div> 

			</div>
		</div>	
		

	{{/each}}
		

		<p id="output"></p>
		</div>
	</div>

	</div>
</div>



	<!--=========================================== E D I T   A D D R E S S  M O D A L =================================================-->

<div id="editModal" class="modal fade" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true;,">
  <div class="modal-content modal-dialog"  role="document">
    <header class="modal-header flex-column justify-content-center border-0 mb-3 mb-xl-5 cl2">
      <h4 id="exampleModalLabel" class="modal-title mx-auto cl2">Edit Address Address</h4>
    </header>

    <div class="modal-body pt-3 mb-5 mb-md-7 text-center cl2">
      <form id="editForm">
										<div class="form-row cl2">
											<div class="form-group mr-2">
												<label for="inputAddress2 ">First Name</label>
												<input id="efname" type="text" class="form-control" name="fname">
											</div>

											<div class="form-group">	
												<label for="inputAddress2">Last Name</label>
												<input id="elname" type="text" class="form-control" name="lname">
											</div>
										</div>
										<div class="form-row cl2">
										<div class="form-group mr-2">
											<label for="inputEmail4">Email</label>
											<input id="eemail" type="text" class="form-control" name="email" required>
										</div>
										<div class="form-group">
											<label for="inputEmail4">Phone number</label>
											<input id="ephone" type="text" class="form-control" name="phone" value="" required>
										</div>
										</div>
										<div class="form-group">
											<label for="inputAddress2">Address</label>
											<textarea id="eaddress" class="form-control" aria-label="With textarea" name="address" required></textarea>
										</div>
										<div class="form-row">
											<div class="form-group col-md-6">
											<label for="inputCity">City</label>
											<input id="ecity" type="text" class="form-control" name="city" required>
											</div>
											<div class="form-group col-md-4">
											<label for="inputState">State</label>
											<input id="estate" type="text" class="form-control" name="state" required>
											</div>
											<div class="form-group col-md-2">
											<label for="inputZip">Zip</label>
											<input id="ezip" type="text" class="form-control" name="zip" required>
											</div>
											<div class="form-group col-md-6">
											<label for="inputCity">Landmark</label>
											<input id="elandmark" type="text" class="form-control" name="landmark" required>
											<input id="idy" type="text" class="form-control" name="addressId" hidden>
											</div>
											 <button id="submitbtn" type="submit" class="btn btn-primary rounded-pill ml-auto mr-3 mt-5" required>Submit</button>
										</div>
										{{!-- <div class="form-group">
											<div class="form-check">
											<input class="form-check-input" type="checkbox" id="gridCheck">
											<label class="form-check-label" for="gridCheck">
												Check me out
											</label>
											</div>
										</div> --}}

										</form>
    </div>
  </div>
</div>
	{{!-- ========================================================== C O U P O N  M O D A L  ==============================================================================================--}}


	<div id="couponModal" class="modal fade" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true; w-100">
  <div class="modal-content modal-dialog modal-lg"  role="document">
    <header class="modal-header flex-column justify-content-center border-0 p-0 mb-xl-5 cl2">
      <h4 id="exampleModalLabel" class="modal-title mx-auto cl2 stext-101 fw-bolder fs-3 p-0">Coupons</h4>
    </header>
    <div class="modal-body pt-3 mb-5 mb-md-7 text-center cl2">
	{{#each couponData}}
	<div class="container mt-5"> <div class="d-flex justify-content-center row"> <div class="col-md-12" > <div class="coupon p-3 bg-white shadow p-3 mb-5 bg-white rounded"> <div class="row no-gutters"> <div class="col-md-4 border-right"> <div class="d-flex flex-column align-items-center"><img src="https://i.imgur.com/XwBlVpS.png">
	<span class="d-block">{{this.couponName}}</span><span class="text-black-50 fs-7">GAMEX</span></div> </div> <div class="col-md-8"> <div> <div class="d-flex flex-row justify-content-end off"> <h1>{{this.offer}}%</h1><span>OFF</span></div> <div class="d-flex flex-row justify-content-between off px-3 p-2"><span>Promo code:</span><span class="border border-success px-3 rounded code">{{this.code}}</span>
	<button type="button" class="btn btn-dark"  id="{{this._id}}" onclick="redeem('{{this._id}}')">Redeem</button></div> </div> </div> </div> </div> </div> </div> </div>
	{{/each}}
	</div>
  </div>
</div>


<script> 
// ============================================= G E T   C U R R E N T   A D D R E S S ============================================================================================
	console.log('ethi')
	function editAddress(id){
		const formFname = document.getElementById('efname')
		const formLname = document.getElementById('elname')
		const formEmail = document.getElementById('eemail')
		const formPhone = document.getElementById('ephone')
		const formAddress = document.getElementById('eaddress')
		const formCity = document.getElementById('ecity')
		const formState = document.getElementById('estate')
		const formZip = document.getElementById('ezip')
		const formLandmark = document.getElementById('elandmark')
		let adddressId = document.getElementById('idy')

 		axios({
			method:'post',
			url:'/current-address',
			data:{
				currentAddress:id
			}
		}).then((e)=>{
			console.log(e.data)

			let addressData = e.data.data
			let addressId = e.data.data._id
			console.log("+++++",e.data.data)
			let fname = addressData.fname
			let lname = addressData.lname
			let email = addressData.email
			let phone = addressData.phone
			let address = addressData.address
			let city = addressData.city
			let state = addressData.state
			let zip = addressData.zip
			let landmark = addressData.landmark
			let  id = addressId

			formFname.value = fname
			formLname.value = lname
			formEmail.value = email
			formPhone.value = phone
			formAddress.value = address
			formCity.value = city
			formState.value = state
			formZip.value = zip
			formLandmark.value = landmark
			adddressId.value = id
	

		})
	}
</script>


{{! _____________________________________________________________________________________________________________________________________________________________________ --}}

	<div class="btn-back-to-top" id="myBtn">
		<span class="symbol-btn-back-to-top">
			<i class="zmdi zmdi-chevron-up"></i>
		</span>
	</div>
	<script>$('#myModal').modal(options)</script>
	<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	
	<script>
			const form = document.getElementById('form');
			
			form.addEventListener('submit',(e)=>{
				e.preventDefault();
				const formData = new FormData(form);
				const payload = Object.fromEntries(formData)
				
			axios({
					method:'post',
					url:'/uploadAddress',
			
					data:{	
						payload
					}
				})
			.then( (e) => {	
        Swal.fire({
			showConfirmButton: false,
			icon:'success',
          title: 'Address added',      
        })
		const fetcthedAddress = e.data.data.addresses
		setTimeout((function() {
  		window.location.reload();
		}), 250);
		})
			.catch(error => console.log(error))
			}) 
  </script>
<script>
// ============================================= U P D A T E   C U R R E N T   A D D R E S S ============================================================================================
 const editForm = document.getElementById('editForm');
	editForm.addEventListener('submit',(e) => {
	e.preventDefault();
	const editFormData = new FormData(editForm);
	const payload = Object.fromEntries(editFormData)
	console.log("payload:::::::::::",payload)

	axios({
		method:'post',
		url:'/edit-address',
		data:{
			payload
		}
	}).then((e) => {
			Swal.fire({
			showConfirmButton: false,
			icon:'success',
          title: 'Address added',      
        })
		setTimeout((function() {
  		window.location.reload();
		}), 250);
		})

 })

</script>
<script>
//===========================================- R A D I O  B U T T O N  C H E C K -==============================================
const btn = document.querySelector('#btn');        
        const radioButtons = document.querySelectorAll('input[name="size"]');
        btn.addEventListener("click", () => {
			console.log('clicked')
            let selectedAddressId;
            for (const radioButton of radioButtons) {
                if (radioButton.checked) {
                    selectedAddressId = radioButton.value;
                    break;
                }
            }
            // show the output:
            // output.innerText = selectedAddressId ? `You selected ${selectedAddressId}` : `You haven't selected any size`;
		//send the cheked address ID to server using axios
			
			const payload = selectedAddressId;
		console.log(payload)
        		
			axios({
			method:'post',
			url:'/checked-address',
			data:{
				payload
			}
		}).then((e)=>{
			const addressData = e.data.data

			const fname = document.getElementById('activeFname')
			const pin = document.getElementById('activePin')
			const email= document.getElementById('activeEmail')
			const phone = document.getElementById('activePhone')
			const address = document.getElementById('activeAddress')
		
			fname.innerText = addressData.fname
			pin.innerText = addressData.zip
			email.innerText = addressData.email
			phone.innerText = addressData.phone
			address.innerText = addressData.address

			console.log('this is response:',e.data)
		})

		});
		
	
</script>
	

<script>
		//======================= R E D E E M   C O U P O N =============================
		function redeem(id,grandTotal){
			console.log('yes there button clicked')
			axios({
				method:'post',
				url:'/redeem-coupon',	
				data:{
					couponId:id
				}
			}).then((e)=>{
				const Toast = Swal.mixin({
					toast: true,
					position: 'bottom-start',
					showConfirmButton: false,
					timer: 2000,
					timerProgressBar: true,
					didOpen: (toast) => {
					}
				})
				Toast.fire({
				title: 'Coupon Applied'
				})

				setTimeout((function() {
				window.location.reload();
				}), 250);
				console.log(e.data)

			})
		}

	</script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
	<script>

	//======================= C O N F I R M   O R D E R =============================

	let paymentBtns = document.querySelectorAll("input[name='payment']");
	let selectedPaymentMethod
	let findSelected = () => { 
			 selectedPaymentMethod = document.querySelector
			("input[name='payment']:checked").value;
			console.log("selectedPaymentMethod:",selectedPaymentMethod)

			

		}

	paymentBtns.forEach(radioBtn => {
  
		radioBtn.addEventListener("change",findSelected);
		
	})

	
			

	function confirmOrder() {
					 const radioButtons = document.querySelectorAll('input[name="payment"]');
			 			let selected;
						 for (const radioButton of radioButtons) {
                if (radioButton.checked) {
                    selected = radioButton.value;
                    break;
                }
            }
	console.log('inside botton click')
	if(selected == 'cod'){
		axios({
				method:'post',
				url:'/payment',	
				data:{
					payment:selectedPaymentMethod,

				}
			}).then((e) => {
			    const  payment =  e.data.data.payment
				console.log('response is',e)
				if (payment == 'cod'){
				location.replace('/render-cod')
				}	
			})
	}else{ //razor pay
		axios({
				method:'post',
				url:'/intiate_razorpay',

				data:{
					payment:selectedPaymentMethod,

				},
				success: (res) => {
				}
		   }).then((res)=>{
						console.log('res',res.data.razorData.id)
					amount = res.data.razorData.amount * 100;
					console.log(amount);
					var options = {
					"key": "rzp_test_ISP28FsFgtT1QX", // Enter the Key ID generated from the Dashboard
					"amount": amount, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
					"currency": "INR",
					"name": "Gamex",
					"description": "India's best audio product selling website",
					"image": "https://example.com/your_logo",
 //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
					"handler": function (response) {

					verifyPayment(response, res.data.razorData);
					},
					"prefill": {
					"name": "Gaurav Kumar",
					"email": "gaurav.kumar@example.com",
					"contact": "9999999999"
					},
					"notes": {
					"address": "Razorpay Corporate Office"
					},
					"theme": {
					"color": "#3399cc"
					}
					};
					var rzp1 = new Razorpay(options);
					rzp1.open();
					rzp1.on('payment.failed', function (response) {
         			 });

		   })


	}	

		function verifyPayment(razorResponse, razorData) {

		axios({
		url: '/verifyRazorpay',
		method: 'post',
		data: {
			razorResponse,
			razorData
		},
		success: (res) => {
			if (res.status) {
			location.replace('/render-cod');
			}
		}
		})
	}
	 }
	</script>